# ë™ë£Œí•™ìŠµì„ í†µí•´ì„œ ì¸í„´ì‰½ ì„ ë°œ ê³¼ì œ Best Practice ë§Œë“¤ê¸°

## ğŸ“• ê°œìš”

**ğŸ“[ë°°í¬ë§í¬ ë°”ë¡œê°€ê¸°]()**

### ê³¼ì œ ëª©ì 

1. ë™ë£Œí•™ìŠµì— ìµìˆ™í•´ì§€ê¸°
2. ë¬¸ì œ í•´ê²° ë°©ë²•ì— ëŒ€í•´ í† ë¡ í•˜ê¸°
3. Git Commit Message, History ê´€ë¦¬, í˜‘ì—… íˆ´ì„ ì‚¬ìš©í•´ì„œ í˜‘ì—…ì— ìµìˆ™í•´ì§€ê¸°

### ê¸°ê°„

2022ë…„ 12ì›” 20ì¼(í™”) - 2022ë…„ 12ì›” 23ì¼(ê¸ˆ)

---

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Members

| ë¥˜ì§€ì°½                                                                                           | ë°•ì¤€í•˜                                                                                          | ë°±ê´‘ì²œ                                                                                          | ìœ ì œì›                                                                                          | ì •ì„¸ì—°                                                                                          | ì¡°ì˜ì¼                                                                                          |
| ------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| <img src="https://avatars.githubusercontent.com/u/104156381?s=70&v=4" width="160" height="160"/> | <img src="https://avatars.githubusercontent.com/u/85827017?s=70&v=4" width="160" height="160"/> | <img src="https://avatars.githubusercontent.com/u/82658528?s=70&v=4" width="160" height="160"/> | <img src="https://avatars.githubusercontent.com/u/96014828?s=70&v=4" width="160" height="160"/> | <img src="https://avatars.githubusercontent.com/u/79056677?s=70&v=4" width="160" height="160"/> | <img src="https://avatars.githubusercontent.com/u/86599495?s=70&v=4" width="160" height="160"/> |
| [RyuJiChang](https://github.com/RyuJiChang)                                                      | [harseille](https://github.com/harseille)                                                       | [back0202](https://github.com/back0202)                                                         | [LLSJYY](https://github.com/LLSJYY)                                                             | [n0eyes](https://github.com/n0eyes)                                                             | [young1the](https://github.com/young1the)                                                       |

---

## ğŸ–¥ Demo
íšŒì›ê°€ì… ë™ì‘ ì‹œì—°<br><br>
![íšŒì›ê°€ì… ë™ì‘](https://user-images.githubusercontent.com/104156381/209335798-d4a47629-b334-4547-b903-ab61fb4669c8.gif)<br><br><br><br>
ë¡œê·¸ì¸ ë™ì‘ ì‹œì—°<br><br>
![ë¡œê·¸ì¸ ë™ì‘](https://user-images.githubusercontent.com/104156381/209335797-f4f078b8-d386-4991-9e20-aa4b996dda81.gif)<br><br><br><br>
CRUD, ì²´í¬ë°•ìŠ¤ ë™ì‘ ì‹œì—°<br><br>
![CRUD ë° ì²´í¬ë°•ìŠ¤ ë™ì‘](https://user-images.githubusercontent.com/104156381/209335791-5dfe67af-9fb4-4b49-9837-fe3e6c926e54.gif)<br><br><br><br>
ë¦¬ë‹¤ì´ë ‰íŠ¸ ë™ì‘ ì‹œì—°<br><br>
![ë¦¬ë‹¤ì´ë ‰íŠ¸ ë™ì‘](https://user-images.githubusercontent.com/104156381/209335789-1955c84f-fa10-4ec4-8c3a-f17277ac5aad.gif)
---

## âš¡ï¸ ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬

1. TypeScript
2. React
3. React-router-dom
4. Styled-components
5. Axios
6. Craco
7. ESLint
8. Prettier
9. Husky
10. Lint-staged

---

## âœ… ìš”êµ¬ì‚¬í•­

### 1) Auth

- ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ì˜ ìœ íš¨ì„± ê²€ì‚¬
  - ì´ë©”ì¼ ì¡°ê±´: `@` í¬í•¨, ë¹„ë°€ë²ˆí˜¸ ì¡°ê±´: 8ì ì´ìƒ
  - ì…ë ¥ëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ê°€ ìœ„ ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œ ë²„íŠ¼ í™œì„±í™”
- ë¡œê·¸ì¸ APIë¥¼ í˜¸ì¶œí•˜ê³ , ì˜¬ë°”ë¥¸ ì‘ë‹µì„ ë°›ì•˜ì„ ë•Œ `/todo` ê²½ë¡œë¡œ ì´ë™
  - ì‘ë‹µë°›ì€ JWTëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
- ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¥¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬
  - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í°ì´ ìˆëŠ” ê²½ìš° `/` í˜ì´ì§€ ì ‘ì†ì‹œ `/todo` ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í°ì´ ì—†ëŠ” ê²½ìš° `/todo` í˜ì´ì§€ ì ‘ì†ì‹œ `/` ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- ë¡œê·¸ì•„ì›ƒ ì‹œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ í† í° ì‚­ì œ í›„ `/` ê²½ë¡œë¡œ ì´ë™

### 2) Todo list

- ì¡°íšŒ / ì¶”ê°€
  - `/todo` ê²½ë¡œì— ì ‘ì†í•˜ë©´ íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ì˜ ëª©ë¡ ì¡°íšŒ
  - íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ ë‚´ìš© ë° ì™„ë£Œ ì—¬ë¶€ í‘œì‹œ
  - ì…ë ¥ì°½ê³¼ ì¶”ê°€ë²„íŠ¼ì´ ìˆê³ , ì¶”ê°€ë²„íŠ¼ í´ë¦­ì‹œ ì…ë ¥ì°½ì˜ ë‚´ìš©ì´ ìƒˆë¡œìš´ íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶”ê°€
- ì‚­ì œ / ìˆ˜ì •
  - ìˆ˜ì •ë²„íŠ¼ ì¡´ì¬, í•´ë‹¹ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ˜ì •ëª¨ë“œ í™œì„±í™”, ë‚´ìš© ìˆ˜ì •ê°€ëŠ¥
  - ìˆ˜ì •ëª¨ë“œì—ì„œ ì œì¶œ ë²„íŠ¼ê³¼ ì·¨ì†Œë²„íŠ¼ì´ í‘œì‹œë˜ë©° ìˆ˜ì • ë‚´ìš© ì œì¶œ/ì·¨ì†Œ ê°€ëŠ¥
  - ì‚­ì œë²„íŠ¼ ì¡´ì¬, í•´ë‹¹ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ ì‚­ì œ

---

## ğŸ™ Git

| rule     | ì„¤ëª…                                                     |
| -------- | -------------------------------------------------------- |
| feat     | ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€                                         |
| fix      | ë²„ê·¸ ìˆ˜ì •                                                |
| !HOTFIX  | ê¸‰í•˜ê²Œ ì¹˜ëª…ì ì¸ ë²„ê·¸ë¥¼ ê³ ì³ì•¼í•˜ëŠ” ê²½ìš°                   |
| docs     | ë¬¸ì„œ ìˆ˜ì •                                                |
| style    | ì½”ë“œ formatting, ì„¸ë¯¸ì½œë¡ (;) ëˆ„ë½, ì½”ë“œ ë³€ê²½ì´ ì—†ëŠ” ê²½ìš° |
| refactor | ì½”ë“œ ë¦¬íŒ©í† ë§                                            |
| test     | í…ŒìŠ¤íŠ¸ ì½”ë“œ, ë¦¬íŒ©í† ë§ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€                   |
| chore    | ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •                       |

- ### ğŸ“˜ **Git branch strategy**

**git-flow** ì‚¬ìš©

- feature branches
- develop
- release branches
- hotfixes
- main

branchëª… ê·œì¹™: `ì»¤ë°‹ íƒ€ì…`/#`ì´ìŠˆë²ˆí˜¸` í¬ë©§ìœ¼ë¡œ ìƒì„±
commit ë©”ì‹œì§€ ê·œì¹™: `ì»¤ë°‹íƒ€ì…`: `ë‚´ìš©` í¬ë©§ìœ¼ë¡œ ì‘ì„±

---

## ğŸ‘ Best Practice

### 1. ì´ˆê¸° ì„¸íŒ…

#### ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬

1. TypeScript
   TypeScriptëŠ” ì·¨ì—… ì‹œì— í•„ìˆ˜ì ì¸ ê¸°ìˆ ìŠ¤í…
   TypeScript ì‚¬ìš©ì— **ìµìˆ™í•´ì§€ê¸°**ìœ„í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ê²°ì •

2. React-router-dom@6.5
   ì´ì „ ë²„ì „ê³¼ ë‹¤ë¥¸ ë°©ì‹ì˜ ë™ì‘ì›ë¦¬ì¸ react-router-dom@6.5ì— ì ì‘í•˜ê°€ ìœ„í•´ì„œ ì‚¬ìš©
   `loader`, `action`, 'RouterForm' ë“± ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ì‘ì„±í•œë‹¤.

```ts
// action ì‚¬ìš© ì˜ˆì‹œ
const router = createBrowserRouter(
  createRoutesFromElements(
    <Route path='/' errorElement={<Error />}>
      <Route element={<App />}>
        <Route
          index
          element={
            <Auth to='/todo' login={true}>
              <Login />
            </Auth>
          }
          action={loginAction}
        />
        ...
      </Route>
    </Route>,
  ),
);
```

```ts
// RouterForm ì‚¬ìš© ì˜ˆì‹ 
import { Form as RouterForm } from "react-router-dom";

type Unpacked<T> = T extends React.ForwardRefExoticComponent<infer U> ? U : T;

function Form({ children, ...props }: PropsWithChildren<Unpacked<typeof RouterForm>>) {
  return <Styled.Form {...props}>{children}</Styled.Form>;
}
```

3. ESLint
   ì˜ì¡´ì„±ì„ ê³ ë ¤í•´ì„œ import/orderë¥¼ ì„¤ì •

```json
"import/order": [
  "error",
  {
    "groups": ["builtin", "external", "internal", "index"],
    "pathGroups": [
      {
        "pattern": "react",
        "group": "external",
        "position": "before"
      },
      {
        "pattern": "@*/**",
        "group": "internal"
      },
      {
        "pattern": "./**",
        "group": "index"
      }
    ],
    "pathGroupsExcludedImportTypes": ["react"],
    "alphabetize": {
      "order": "asc"
    },
    "newlines-between": "always"
  }
],
```

### ë¼ìš°íŒ…

**ì¸ì¦/ì¸ê°€ ì²˜ë¦¬**
`Auth` ì»´í¬ë„ŒíŠ¸ë¥¼ í˜ì´ì§€ ìƒë‹¨ì— ë‘ì–´ authorizationì„ ì²´í¬í•œë‹¤.

```tsx
// Auth ì»´í¬ë„ŒíŠ¸ì˜ childì— loginì¼ í•„ìš” ì—¬ë¶€ë¥¼ propsë¡œ ë‚´ë¦°ë‹¤.
<Route
  path='join'
  element={
    <Auth to='/todo' login={true}>
      <Join />
    </Auth>
  }
/>
<Route
  path='todo'
  element={
    <Auth to='/' login={false}>
      <ToDo />
    </Auth>
  }
/>
```

```tsx
const Auth = (props: PropsWithChildren<AuthProps>): JSX.Element => {
  const { children, to, login } = props;
  const user = localStorage.getItem("user");

  if (login && user) return <Navigate to={to} replace />;
  if (!login && !user) return <Navigate to={to} replace />;

  return <>{children}</>;
};
```

### í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

### API ì—°ë™

1. **Axios ê³µí†µ ë¡œì§ ë¶„ë¦¬**
   REST API í†µì‹ ê³¼ ì—ëŸ¬ì²˜ë¦¬ë¥¼ ìœ„í•´ ë°˜ë³µë˜ëŠ” ë¡œì§ ë¶€ë¶„ì„ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì„œ ì¬ì‚¬ìš©ì„± ì¦ëŒ€

```ts
export async function to<T>(promise: Promise<T>): Promise<[null, T] | [unknown, null]> {
  try {
    return [null, await promise];
  } catch (error) {
    if (axios.isAxiosError(error)) alert(error.response?.data.message);
    else throw error;

    return [error, null];
  }
}
```

2. ê´€ì‹¬ì‚¬ì— ë”°ë¥¸ request ìš”ì²­ ë¶„ë¦¬
   ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ì—¬ api ìš”ì²­ì„ ê´€ë¦¬í–ˆë‹¤.

```ts
// Auth
export async function join({ email, password }: AuthRequest) {
  const { data } = await client.post<AuthResponse>(PATH.JOIN, { ... });

  return data;
}

export async function login({ email, password }: AuthRequest) {
  const { data } = await client.post<AuthResponse>(PATH.LOGIN, { ... });

  localStorage.setItem("user", data.access_token);
  client.defaults.headers["Authorization"] = `Bearer ${data.access_token}`;

  return data;
}
```

```ts
// Todo
export const getToDo = async () => {
  const { data } = await client<GetToDoResponse>(PATH.GET_TODO);

  return data;
};

export const createToDo = async (payload: CreateToDoRequest) => {
  const { data } = await client.post<CreateToDoResponse>(PATH.CREATE_TODO, payload);

  return data;
};

export const updateToDo = async ({ id, todo, isCompleted }: UpdateToDoRequest) => {
  const { data } = await client.put<UpdateToDoResponse>(`${PATH.UPDATE_TODO}/${id}`, {
    todo,
    isCompleted,
  });

  return data;
};

export const deleteToDo = async ({ id }: DeleteToDoRequest) => {
  const { data } = await client.delete<DeleteToDoResponse>(`${PATH.DELETE_TODO}/${id}`);

  return data;
};
```

### ìµœì í™”

---

## ğŸ“¢ í”„ë¡œì íŠ¸ ì‹¤í–‰ë°©ë²•

ì‹¤í–‰í•  ë•Œ ë°˜ë“œì‹œ ë‹¤ìŒ íŒŒì¼ì„ ìµœìƒë‹¨ì— ìƒì„±í›„ ì‹¤í–‰ í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.

```
// .env
REACT_APP_BASE_URL=https://pre-onboarding-selection-task.shop
```

```
npm install
npm start
```

## ğŸ“ ë¬¸ì„œ

[íšŒì˜ë¡](https://www.notion.so/43f61c18daaf4db68d62863ea539dbf4)
